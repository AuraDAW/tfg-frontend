import{a as L,c as z,d as H}from"./chunk-LOGXL3IP.js";import{a as k}from"./chunk-KSL4GJU4.js";import{a as $}from"./chunk-A6I5M2ZJ.js";import"./chunk-LTCMITUI.js";import{a as P,d as R,e as U,h as j,i as O}from"./chunk-PUI4IBEA.js";import"./chunk-J6MKEWI4.js";import{a as Q,c as T,e as l,g as N,h as B,j as F,k as w,l as V,m as A,s as q,t as G,u as D}from"./chunk-MEC76M2Q.js";import"./chunk-3CD6P3UR.js";import{Da as v,Fb as g,Gb as x,Ia as h,Ja as b,Ka as y,La as a,Ma as t,Na as s,P as d,Pb as I,Qa as _,Rb as C,Xb as E,Yb as S,bb as m,cb as p,e as K,la as r,lb as n,mb as o,ta as M}from"./chunk-FKC2K5KC.js";var f=K(Q());function W(c,e){if(c&1&&(a(0,"mat-option",10),m(1),n(2,"translate"),n(3,"titlecase"),t()),c&2){let i=e.$implicit;v("value",i.id),r(),p(o(3,4,o(2,2,`types.name.${i.id}`)))}}var J=class c{frm;aTypes=[];id;activateRoute=d(I);router=d(C);serviceTypes=d(k);serviceMoves=d($);fb=d(q);ngOnInit(){this.loadTypes(),this.validacionesFrm(),this.loadUpdate()}loadTypes(){this.serviceTypes.getTypes().subscribe({next:e=>{this.aTypes=e},error:e=>{console.log(e)}})}validacionesFrm(){this.frm=this.fb.group({name_en:["",[l.required]],name_es:["",[l.required]],description_en:["",[l.required]],description_es:["",[l.required]],type:["",[l.required]],power:["",[l.required]],accuracy:["",[l.required]]})}loadUpdate(){this.activateRoute.paramMap.subscribe(e=>{this.id=parseInt(e.get("id"))}),this.id&&this.serviceMoves.getMove(this.id).subscribe({next:e=>{this.frm.get("name_en")?.setValue(e[0].name_en),this.frm.get("name_es")?.setValue(e[0].name_es),this.frm.get("description_en")?.setValue(e[0].description_en),this.frm.get("description_es")?.setValue(e[0].description_es),this.frm.get("type")?.setValue(e[0].type),this.frm.get("power")?.setValue(e[0].power),this.frm.get("accuracy")?.setValue(e[0].accuracy)},error:e=>{console.log(e)}})}saveMove(){let e={id:this.id,name_en:this.frm.get("name_en")?.value,name_es:this.frm.get("name_es")?.value,description_en:this.frm.get("description_en")?.value,description_es:this.frm.get("description_es")?.value,type:this.frm.get("type")?.value,power:this.frm.get("power")?.value,accuracy:this.frm.get("accuracy")?.value};this.id?this.updateMove(e):this.addMove(e)}addMove(e){this.serviceMoves.postMove(e).subscribe({next:i=>{f.default.fire("The move has been added","","success"),this.frm.reset(),this.router.navigateByUrl("/adminPanel")},error:i=>{console.log(i)}})}updateMove(e){this.serviceMoves.updateMove(e).subscribe({next:i=>{f.default.fire("The move has been updated","","success"),this.frm.reset(),this.router.navigateByUrl("/adminPanel")},error:i=>{console.log(i)}})}static \u0275fac=function(i){return new(i||c)};static \u0275cmp=M({type:c,selectors:[["app-admin-move"]],decls:48,vars:29,consts:[["autocomplete","off",3,"submit","formGroup"],[1,"row"],[1,"col-12","text-center","mt-3","d-flex","justify-content-between"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"col-12"],["matInput","","formControlName","name_en"],["matInput","","formControlName","name_es"],["matInput","","formControlName","description_en"],["matInput","","formControlName","description_es"],["formControlName","type"],[3,"value"],["type","number","matInput","","formControlName","power"],["type","number","matInput","","formControlName","accuracy"]],template:function(i,u){i&1&&(a(0,"form",0),_("submit",function(){return u.saveMove()}),a(1,"div",1)(2,"div",2)(3,"h2"),m(4),n(5,"translate"),t(),a(6,"button",3),m(7),n(8,"translate"),t()()(),s(9,"hr"),a(10,"div",1)(11,"mat-form-field",4)(12,"mat-label"),m(13),n(14,"translate"),t(),s(15,"input",5),t(),a(16,"mat-form-field",4)(17,"mat-label"),m(18),n(19,"translate"),t(),s(20,"input",6),t(),a(21,"mat-form-field",4)(22,"mat-label"),m(23),n(24,"translate"),t(),s(25,"input",7),t(),a(26,"mat-form-field",4)(27,"mat-label"),m(28),n(29,"translate"),t(),s(30,"input",8),t(),a(31,"mat-form-field")(32,"mat-label"),m(33),n(34,"translate"),t(),a(35,"mat-select",9),b(36,W,4,6,"mat-option",10,h),t()(),a(38,"mat-form-field",4)(39,"mat-label"),m(40),n(41,"translate"),t(),s(42,"input",11),t(),a(43,"mat-form-field",4)(44,"mat-label"),m(45),n(46,"translate"),t(),s(47,"input",12),t()()()),i&2&&(v("formGroup",u.frm),r(4),p(o(5,11,"adminMove.title")),r(2),v("disabled",u.frm.invalid),r(),p(o(8,13,"button.save")),r(6),p(o(14,15,"adminMove.nameEN")),r(5),p(o(19,17,"adminMove.nameES")),r(5),p(o(24,19,"adminMove.descriptionEN")),r(5),p(o(29,21,"adminMove.descriptionES")),r(5),p(o(34,23,"adminMove.type")),r(3),y(u.aTypes),r(4),p(o(41,25,"adminMove.power")),r(5),p(o(46,27,"adminMove.accuracy")))},dependencies:[x,g,D,F,T,w,N,B,V,A,G,S,E,U,R,P,O,j,H,z,L],encapsulation:2})};export{J as AdminMoveComponent};
