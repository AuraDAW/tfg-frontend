import{a as M}from"./chunk-OZRWMOLO.js";import{c as G}from"./chunk-F6IFWQ6I.js";import{a as R,d as T,e as D,h as k,i as A}from"./chunk-PUI4IBEA.js";import"./chunk-J6MKEWI4.js";import{a as P,c as B,e as u,g as S,h as _,j as N,l as y,m as E,s as q,u as L}from"./chunk-MEC76M2Q.js";import"./chunk-3CD6P3UR.js";import{Da as g,Ha as v,La as o,Ma as t,Na as d,P as c,Qa as h,Rb as C,Sb as F,Xb as w,Yb as I,bb as r,cb as n,e as V,la as e,lb as a,mb as l,pa as x,ta as b,za as f}from"./chunk-FKC2K5KC.js";var U=V(P());function W(i,m){i&1&&(o(0,"span",6),r(1),a(2,"translate"),t()),i&2&&(e(),n(l(2,1,"login.error.emailRequired")))}function $(i,m){i&1&&(o(0,"small",6),r(1),a(2,"translate"),t()),i&2&&(e(),n(l(2,1,"login.error.emailFormat")))}function z(i,m){i&1&&(o(0,"span",6),r(1),a(2,"translate"),t()),i&2&&(e(),n(l(2,1,"login.error.passwordRequired")))}var j=class i{constructor(m){this.fb=m;this.frm=this.fb.group({email:["",[u.required,u.email]],password:["",[u.required]]})}frm;serviceAuth=c(M);router=c(C);get emailNotRequired(){return this.frm.get("email")?.errors?.required&&this.frm.get("email")?.touched}get emailWrongFormat(){return this.frm.get("email")?.errors?.email}get passwordNotRequired(){return this.frm.get("password")?.errors?.required&&this.frm.get("password")?.touched}login(){let m={email:this.frm.get("email")?.value,password:this.frm.get("password")?.value};console.log(m),this.serviceAuth.login(m).subscribe({next:p=>{console.log("logeado"),this.router.navigateByUrl("/home")},error:p=>{U.default.fire(`${p.error.message}`,"","error")}})}static \u0275fac=function(p){return new(p||i)(x(q))};static \u0275cmp=b({type:i,selectors:[["app-login"]],decls:32,vars:22,consts:[["autocomplete","off",3,"submit","formGroup"],[1,"row"],[1,"col-12","mt-3","d-flex","justify-content-between"],[1,"col-12","my-2","text-center"],[1,"col-12"],["matInput","","formControlName","email"],[1,"text-danger","fst-italic"],["matInput","","formControlName","password","type","password"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"my-2"],["routerLink","/register",1,"link-underline","link-underline-opacity-0"]],template:function(p,s){p&1&&(o(0,"form",0),h("submit",function(){return s.login()}),o(1,"div",1)(2,"div",2)(3,"h2"),r(4),a(5,"translate"),t()()(),d(6,"hr"),o(7,"div",1)(8,"div",3)(9,"mat-form-field",4)(10,"mat-label"),r(11),a(12,"translate"),t(),d(13,"input",5),t(),f(14,W,3,3,"span",6)(15,$,3,3,"small",6),o(16,"mat-form-field",4)(17,"mat-label"),r(18),a(19,"translate"),t(),d(20,"input",7),t(),f(21,z,3,3,"span",6),t(),o(22,"div",3)(23,"button",8),r(24),a(25,"translate"),t(),o(26,"p",9),r(27),a(28,"translate"),o(29,"a",10),r(30),a(31,"translate"),t()()()()()),p&2&&(g("formGroup",s.frm),e(4),n(l(5,10,"login.login")),e(7),n(l(12,12,"login.email")),e(3),v(s.emailNotRequired?14:s.emailWrongFormat?15:-1),e(4),n(l(19,14,"login.password")),e(3),v(s.passwordNotRequired?21:-1),e(2),g("disabled",s.frm.invalid),e(),n(l(25,16,"login.login")),e(3),n(l(28,18,"login.text")),e(3),n(l(31,20,"login.link")))},dependencies:[L,N,B,S,_,y,E,D,T,R,G,A,k,I,w,F],encapsulation:2})};export{j as LoginComponent};
